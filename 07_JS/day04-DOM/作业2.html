<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tab切换动画版</title>
    <style>
        *{
            margin: 0;
            padding:0;
            list-style: none;
        }
        .outer{
            width: 600px;
            margin: 0 auto;
            border: 1px solid #000;
        }
        #title{
            overflow: hidden;
        }
        #title h2{
            width: 200px;
            border: 1px solid red;
            float: left;
            height: 40px;
            font-size: 20px;
            line-height: 40px;
            text-align: center;
            color: #fff;
            background-color: #ccc;
            cursor: pointer;
            box-sizing: border-box;

        }
        #title .active{
            background-color: red;
        }
        #con{
            height: 350px;
            overflow: hidden;
        }
        #con li{
            height: 350px;
        }
        #con li div{
            width: 600px;
            height: 350px;
            display: block;
            text-align: center;
            line-height: 350px;
            font-size: 50px;
        }
    </style>
</head>
<body>
    <div class="outer">
        <div id="title">
            <h2 class="active">标题1</h2>
            <h2>标题2</h2>
            <h2>标题3</h2>
        </div>
        <ul id="con">
            <li class="show"><div style="background-color:skyblue;">内容一</div></li>
            <li><div style="background-color:peachpuff">内容二</div></li>
            <li><div style="background-color: paleturquoise">内容三</div></li>            
        </ul>
    </div>
    <script>
        var oTitle = document.getElementById("title");
        var oCon = document.getElementById("con");
        var oH2s = oTitle.getElementsByTagName("h2");
        var oLis = oCon.getElementsByTagName("li");
        var timer = null;
        for (var i = 0; i < oH2s.length; i++) {
            oH2s[i].onclick = function () {
                clearInterval(timer);
                for (var j = 0; j < oH2s.length; j++) {
                    if (oH2s[j] == this){
                        oH2s[j].className = "active";
                        //获取起始位置
                        var start = oCon.scrollTop;
                        //获取结束位置
                        var end = j * oLis[0].offsetHeight;
                        //设置起始步数
                        var startStep = 0;
                        //设置总步数
                        var endStep = 40;
                        //计算每一步所走的距离
                        var everyStep = (end - start) / (endStep - startStep);
                        //进入计时器  让计时器每次运行都走 everyStep的距离  总共走endStep次 就可以执行完

                        timer = setInterval(function () {
                            // 每次进入计时器 让startStep++  用来保存执行次数
                            startStep ++;
                            // 临界值 当startStep等于endStep  那么说明运动完成
                            if (startStep >= endStep){
                                startStep = 0;
                                clearInterval(timer);
                            }
                            start += everyStep;
                            oCon.scrollTop = start;
                        },10)

                    }else{
                        oH2s[j].className = "";
                    }
                }
            }
        }
    </script>
</body>
</html>